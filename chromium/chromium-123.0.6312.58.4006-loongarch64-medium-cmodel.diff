diff '--color=auto' -p -X ../chromium-loongarch64/chromium/exclude -N -u -r a/build/rust/rust_target.gni b/build/rust/rust_target.gni
--- a/build/rust/rust_target.gni	2024-03-19 15:14:27.449559700 -0700
+++ b/build/rust/rust_target.gni	2024-03-20 07:25:42.372234535 -0700
@@ -397,6 +397,9 @@ template("rust_target") {
       if (_rustc_metadata != "") {
         rustflags += [ "-Cmetadata=${_rustc_metadata}" ]
       }
+      if (current_cpu == "loong64") {
+        rustflags += [ "-Ccode-model=medium" ]
+      }
       rustenv = _rustenv
 
       if (_generate_crate_root) {
